(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{217:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a){if(Object.prototype.hasOwnProperty.call(a,r)){e[r]=a[r]}}}return e};var n=a(1);var l=E(n);var i=a(198);var s=E(i);var o=a(486);var u=E(o);var d=a(34);var c=a(17);var p=a(10);var m=a(199);var f=a(117);var h=x(f);var v=a(118);var g=a(532);var _=E(g);var b=a(523);var y=E(b);function x(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var a in e){if(Object.prototype.hasOwnProperty.call(e,a))t[a]=e[a]}}t.default=e;return t}}function E(e){return e&&e.__esModule?e:{default:e}}const I=e=>({root:{padding:"30px 15%",position:"relative"},header:{color:e.palette.primary.grey,textAlign:"center"},card:{padding:".5rem 2rem",textAlign:"center",marginRight:"1rem"}});class C extends n.Component{constructor(...e){var t;return t=super(...e),this.componentDidMount=(()=>{const{media:e,initializeMedia:t}=this.props;t(e)}),this.handleSubmit=(e=>{this.props.updateMedia(e,this.props.media._id)}),t}render(){const{classes:e,media:t}=this.props;return l.default.createElement(s.default,{container:true,className:e.root,spacing:16},l.default.createElement(s.default,{item:true,sm:7},l.default.createElement(u.default,{className:e.card},l.default.createElement(y.default,{thumb_url:t.thumb_url,video:{duration:t.duration,secure_url:t.video_url}}))),l.default.createElement(s.default,{item:true,sm:5},l.default.createElement(_.default,{media:t,submitBtnText:"Update media",submitForm:this.handleSubmit})))}}const w=e=>{return{initializeMedia:t=>{e((0,m.initialize)("mediaInfo",t))}}};const O=e=>{return{media:(0,v.selectSingleMedia)(e.media.medias)}};const M=e=>(0,p.bindActionCreators)(r({initializeMedia:t=>{return e((0,m.initialize)("mediaInfo",t))}},h),e);t.default=(0,c.connect)(O,M)((0,d.withStyles)(I)(C))},485:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a){if(Object.prototype.hasOwnProperty.call(a,r)){e[r]=a[r]}}}return e};var n=a(1);var l=c(n);var i=a(491);var s=c(i);var o=a(34);var u=a(490);var d=c(u);function c(e){return e&&e.__esModule?e:{default:e}}const p=e=>({textInput:{width:"100%"}});class m extends n.Component{render(){const{classes:e,adornment:t,label:a,input:n,type:i,helperText:o,multiline:u}=this.props;return l.default.createElement(s.default,r({label:a,type:i||"text",className:e.textInput},n,{multiline:u,margin:o?"dense":"normal",helperText:o,InputProps:{startAdornment:t&&l.default.createElement(d.default,{position:"start"},t)}}))}}m.defaultProps={helperText:"",multiline:false};t.default=(0,o.withStyles)(p)(m)},523:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(1);var n=p(r);var l=a(199);var i=a(17);var s=a(555);var o=p(s);var u=a(34);var d=a(517);var c=p(d);function p(e){return e&&e.__esModule?e:{default:e}}const m=e=>({uploadIcon:{fontSize:"14rem",color:e.palette.primary.light,opacity:".2"},caption:{color:e.palette.primary.grey}});class f extends r.Component{constructor(...e){var t;return t=super(...e),this.state={offset_value:0,thumb_url:""},this.componentWillMount=(()=>{let{thumb_url:e}=this.props;if(e){this.setState({thumb_url:e})}}),this.getVideoThumb=(e=>{let{secure_url:t}=this.props.video;let a=t.replace(/\.(mp4|mpeg|avi|3gp)$/gm,"");let r=".jpg";e=e?`so_${e}`:"so_0";let n="q_35/";let l=a.replace("/upload/",`/upload/${e}`)+r;let i=l.lastIndexOf("/");l=l.slice(0,i+1)+n+l.slice(i+1,l.length);return l}),this.handleThumbChange=((e,t)=>{let a=this.getVideoThumb(t);this.props.dispatch((0,l.change)("mediaInfo","thumb_url",a));this.setState({thumb_url:a,offset_value:t})}),this.componentDidUpdate=((e,t)=>{if(e.video!=this.props.video){let e=this.props.thumb_url||this.getVideoThumb(this.state.offset_value);this.props.dispatch((0,l.change)("mediaInfo","thumb_url",e));this.setState({thumb_url:e})}}),t}render(){const{classes:e,video:{duration:t}}=this.props;const{thumb_url:a}=this.state;return n.default.createElement("div",null,a?n.default.createElement("div",null,n.default.createElement("h5",{className:e.caption},"Customize thumbnail for your video"),n.default.createElement("img",{src:a,width:"100%",height:"auto"}),n.default.createElement(c.default,{value:this.state.offset_value,min:0,max:t,step:5,onChange:this.handleThumbChange})):n.default.createElement(o.default,{className:e.uploadIcon}))}}t.default=(0,i.connect)()((0,u.withStyles)(m)(f))},527:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a){if(Object.prototype.hasOwnProperty.call(a,r)){e[r]=a[r]}}}return e};var n=a(1);var l=x(n);var i=a(34);var s=a(491);var o=x(s);var u=a(87);var d=x(u);var c=a(119);var p=x(c);var m=a(557);var f=x(m);var h=a(526);var v=x(h);var g=a(556);var _=x(g);var b=a(54);var y=x(b);function x(e){return e&&e.__esModule?e:{default:e}}function E(e,t){var a={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;a[r]=e[r]}return a}const I=e=>({root:{flexGrow:1,height:350},container:{flexGrow:1,position:"relative"},paper:{position:"absolute",zIndex:4,marginTop:e.spacing.unit,left:0,right:0},chip:{margin:`${e.spacing.unit/2}px ${e.spacing.unit/3}px .2rem 0`},inputRoot:{flexWrap:"wrap",fontSize:".9rem",padding:".3rem 0 .4rem 0",marginTop:".4rem"}});function C(e){const{InputProps:t,classes:a,ref:n}=e,i=E(e,["InputProps","classes","ref"]);return l.default.createElement(o.default,r({multiline:true,InputProps:r({inputRef:n,classes:{root:a.inputRoot}},t)},i))}function w(e,t){let a=0;return t.filter(t=>{const r=(!e||t.title.toLowerCase().indexOf(e.toLowerCase())!==-1)&&a<5;if(r){a+=1}return r})}function O({suggestion:e,index:t,itemProps:a,highlightedIndex:n,selectedItem:i}){const s=n===t;const o=(i||"").indexOf(e.title)>-1;return l.default.createElement(p.default,r({},a,{key:e._id,selected:s,style:{fontWeight:o?500:400}}),e.title)}class M extends n.Component{constructor(...e){var t;return t=super(...e),this.state={inputValue:"",selectedItem:[],initialized:false},this.handleKeyDown=(e=>{const{inputValue:t,selectedItem:a}=this.state;if(a.length&&!t.length&&(0,y.default)(e)==="backspace"){this.setState({selectedItem:a.slice(0,a.length-1)})}}),this.handleInputChange=(e=>{this.setState({inputValue:e.target.value})}),this.handleChange=(e=>{let{selectedItem:t}=this.state;if(t.findIndex(t=>t._id==e._id)===-1){t=[...t,e];this.props.input.onChange(t.map(e=>e._id))}this.setState({inputValue:"",selectedItem:t})}),this.handleDelete=(e=>()=>{this.setState(t=>{const a=[...t.selectedItem];a.splice(a.indexOf(e),1);this.props.input.onChange(a.map(e=>e._id));return{selectedItem:a}})}),t}render(){const{classes:e,suggestions:t}=this.props;const{inputValue:a,selectedItem:r}=this.state;return l.default.createElement(f.default,{itemToString:e=>e?e.title:"",inputValue:a,onChange:this.handleChange,selectedItem:r},({getInputProps:a,getItemProps:n,isOpen:i,inputValue:s,selectedItem:o,highlightedIndex:u})=>l.default.createElement("div",{className:e.container},C({fullWidth:true,classes:e,InputProps:a({startAdornment:r.map(t=>l.default.createElement(v.default,{key:t._id,tabIndex:-1,label:t.title,className:e.chip,onDelete:this.handleDelete(t._id)})),onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,placeholder:"Add tags",id:"integration-downshift-multiple"})}),i?l.default.createElement(d.default,{className:e.paper,square:true},w(s,t).map((e,t)=>O({suggestion:e,index:t,itemProps:n({item:e}),highlightedIndex:u,selectedItem:o}))):null))}}M.getDerivedStateFromProps=((e,t)=>{let{input:{value:a}}=e;if(a||a===""){a=a===""?[]:a;if(typeof a[0]=="string"){a=e.suggestions.filter(e=>a.includes(e._id))}return{selectedItem:a}}else{return null}});t.default=(0,i.withStyles)(I)(M)},528:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(1);var n=f(r);var l=a(203);var i=a(17);var s=a(210);var o=a(199);var u=a(527);var d=f(u);var c=a(85);var p=f(c);var m=a(34);function f(e){return e&&e.__esModule?e:{default:e}}const h=e=>({header:{color:e.palette.primary.grey,borderBottom:`1px dashed ${e.palette.primary.lightGrey}`}});class v extends r.Component{render(){const{classes:e}=this.props;return n.default.createElement(n.default.Fragment,null,n.default.createElement(p.default,{variant:"body2",className:e.header},"Additional information"),n.default.createElement(o.Field,{label:"Tags",name:"tags",component:d.default,suggestions:this.props.tags}))}}const g=e=>({tags:(0,s.selectAllTags)(e.media.tags)});t.default=(0,i.connect)(g)((0,m.withStyles)(h)(v))},529:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(1);var n=f(r);var l=a(119);var i=f(l);var s=a(507);var o=f(s);var u=a(542);var d=f(u);var c=a(513);var p=f(c);var m=a(34);function f(e){return e&&e.__esModule?e:{default:e}}const h=e=>({formControl:{minWidth:"100%",textAlign:"left",marginTop:".5rem"}});class v extends r.Component{render(){let{classes:e,label:t,options:a,input:{value:r,onChange:l},name:s}=this.props;if(typeof r=="object"){r=r._id}return n.default.createElement(o.default,{className:e.formControl},n.default.createElement(p.default,{htmlFor:t},"Category"),n.default.createElement(d.default,{value:r,onChange:l,name:s},n.default.createElement(i.default,{value:""},n.default.createElement("em",null,"None")),a.map(e=>{return n.default.createElement(i.default,{key:e._id,value:e._id},e.title)})))}}t.default=(0,m.withStyles)(h)(v)},530:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(1);var n=l(r);function l(e){return e&&e.__esModule?e:{default:e}}class i extends r.Component{render(){const{input:{value:e,onChange:t}}=this.props;return n.default.createElement("input",{value:e,onChange:t,hidden:true})}}t.default=i},531:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(1);var n=g(r);var l=a(203);var i=a(17);var s=a(199);var o=a(485);var u=g(o);var d=a(530);var c=g(d);var p=a(529);var m=g(p);var f=a(85);var h=g(f);var v=a(34);function g(e){return e&&e.__esModule?e:{default:e}}const _=e=>({header:{color:e.palette.primary.grey,borderBottom:`1px dashed ${e.palette.primary.lightGrey}`}});class b extends r.Component{render(){const{classes:e}=this.props;return n.default.createElement("div",null,n.default.createElement(h.default,{variant:"body2",className:e.header},"Main information"),n.default.createElement(s.Field,{label:"Title*",helperText:"Come up with a title",name:"title",component:u.default}),n.default.createElement(s.Field,{label:"Description*",helperText:"Shortly describe the video",multiline:true,name:"description",component:u.default}),n.default.createElement(s.Field,{label:"Category*",name:"category",component:m.default,options:this.props.categories}),n.default.createElement(s.Field,{name:"video_url",component:c.default}),n.default.createElement(s.Field,{name:"duration",component:c.default}))}}const y=e=>({categories:(0,l.selectAllCategories)(e.media.categories)});t.default=(0,i.connect)(y)((0,v.withStyles)(_)(b))},532:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(1);var n=g(r);var l=a(199);var i=a(85);var s=g(i);var o=a(486);var u=g(o);var d=a(34);var c=a(197);var p=g(c);var m=a(531);var f=g(m);var h=a(528);var v=g(h);function g(e){return e&&e.__esModule?e:{default:e}}const _=e=>({card:{padding:"1rem 2.5rem",marginBottom:".5rem",overflow:"visible"},buttonCreate:{color:"#fff",backgroundColor:e.palette.primary.success,"&:hover":{backgroundColor:e.palette.primary.successHover}},rightIcon:{marginLeft:"1rem"},header:{padding:".3rem 2.5rem",marginBottom:".5rem",display:"flex"},header2:{color:e.palette.primary.grey,borderBottom:`1px dashed ${e.palette.primary.lightGrey}`}});class b extends r.Component{constructor(...e){var t;return t=super(...e),this.handleSubmit=(e=>{this.props.submitForm(e)}),t}render(){const{classes:e,submitBtnText:t,media:a}=this.props;return n.default.createElement("form",{onSubmit:this.props.handleSubmit(this.handleSubmit)},n.default.createElement(u.default,{className:e.card},n.default.createElement(f.default,{media:a})),n.default.createElement(u.default,{className:e.card},n.default.createElement(v.default,{media:a})),n.default.createElement(p.default,{fullWidth:true,className:e.buttonCreate,type:"submit"},t))}}t.default=(0,l.reduxForm)({form:"mediaInfo"})((0,d.withStyles)(_)(b))}}]);
//# sourceMappingURL=8.bundle.js.map