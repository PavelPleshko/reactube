{"version":3,"file":"12.bundle.js","sources":["webpack:///./src/pages/NewMedia.js"],"sourcesContent":["import React, {Component} from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\n\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport {initialize} from 'redux-form';\r\n\r\nimport * as categoryOperations from '../store/states/media/category/category.operations';\r\nimport * as tagOperations from '../store/states/media/tag/tag.operations';\r\nimport * as mediaOperations from '../store/states/media/media.operations';\r\n\r\n\r\nimport {getDirectUploadDetails} from '../store/states/media/media.api';\r\nimport FileUploader from './newmedia/FileUploader';\r\n\r\n\r\nclass NewMedia extends Component{\r\n\t\r\n\tstate={\r\n\t\tupload_details:null,\r\n\t\tredirect_to_login:false,\r\n\t};\r\n\r\n\r\n\r\n\tcomponentDidMount(){\r\n\t\tgetDirectUploadDetails({resourceType:'video'}).then(res=>{\r\n\t\t\tif(res.data){\r\n\t\t\t\tthis.setState({upload_details:res.data});\r\n\t\t\t}else{\r\n\t\t\t\tthis.setState({redirect_to_login:true});\t\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.props.getCategories();\r\n\t\tthis.props.getTags();\r\n\r\n\t}\r\n\r\n\tsubmitFormHandler=(mediaForm)=>{\r\n\t\tthis.props.createMedia(mediaForm);\r\n\t}\r\n\r\n\r\n\trender(){\r\n\t\tif(this.state.redirect_to_login){\r\n\t\t\treturn <Redirect to=\"/signin\" />\r\n\t\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t<FileUploader submitForm={this.submitFormHandler} uploadDetails={this.state.upload_details} categories={this.props.categories} />\r\n\t\t</div>\r\n\t)\r\n\t}\r\n}\r\n\r\nconst boundActionCreators = (dispatch) => bindActionCreators({...mediaOperations,\r\n\t...categoryOperations,...tagOperations},dispatch);\r\n\r\n\r\nexport default connect(null,boundActionCreators)(NewMedia);"],"mappings":"AAAA","sourceRoot":""}