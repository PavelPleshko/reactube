(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{224:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r){if(Object.prototype.hasOwnProperty.call(r,a)){e[a]=r[a]}}}return e};var o=r(1);var s=v(o);var n=r(17);var l=r(10);var i=r(117);var u=p(i);var c=r(118);var d=r(198);var f=v(d);var m=r(668);var h=v(m);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function v(e){return e&&e.__esModule?e:{default:e}}class g extends o.Component{constructor(...e){var t;return t=super(...e),this.componentDidMount=(()=>{if(this.props.popularMedias.length<1)this.props.listPopularMedia()}),t}render(){const{popularMedias:e}=this.props;return s.default.createElement(f.default,{container:true,spacing:24},s.default.createElement(f.default,{item:true,sm:12},s.default.createElement(h.default,{columns:4,items:e,resourceKey:"popular"})))}}const y=e=>(0,l.bindActionCreators)(a({},u),e);const w=e=>({popularMedias:(0,c.selectMedias)(e.media.medias,"popular")});t.default=(0,n.connect)(w,y)(g)},488:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});const a=e=>{let t="";let r=Math.floor(e/3600);let a=Math.floor(e%3600/60);let o=Math.floor(e%3600%60);t=r>0?r+"h ":"";t+=a>0?a+"min ":"";t+=o>0?o+"s":"";return t};const o=e=>{let t=["Bytes","KB","MB","GB","TB"];if(e==0)return"0 Byte";let r=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,r),2)+" "+t[r]};const s=e=>{const t=new Date(Number(e)*1e3);const r=t.getUTCHours();let a=t.getUTCMinutes();const o=("0"+t.getUTCSeconds()).slice(-2);if(r){a=("0"+t.getUTCMinutes()).slice(-2);return`${r}:${a}:${o}`}return`${a}:${o}`};const n=["January","February","March","April","May","June","July","August","September","October","November","December"];function l(e,t=false,r=false){const a=e.getDate();const o=n[e.getMonth()];const s=e.getFullYear();const l=e.getHours();let i=e.getMinutes();if(i<10){i=`0${i}`}if(t){return`${t} at ${l}:${i}`}if(r){return`${a} ${o} at ${l}:${i}`}return`${a} ${o} ${s}. at ${l}:${i}`}const i=e=>{if(!e){return null}const t=typeof e==="object"?e:new Date(e);const r=864e5;const a=new Date;const o=new Date(a-r);const s=Math.round((a-t)/1e3);const n=Math.round(s/60);const i=a.toDateString()===t.toDateString();const u=o.toDateString()===t.toDateString();const c=a.getFullYear()===t.getFullYear();if(s<5){return"now"}else if(s<60){return`${s} seconds ago`}else if(s<90){return"about a minute ago"}else if(n<60){return`${n} minutes ago`}else if(i){return l(t,"Today")}else if(u){return l(t,"Yesterday")}else if(c){return l(t,false,true)}return l(t)};t.transformSeconds=a;t.transformBytes=o;t.formatDuration=s;t.fromNow=i},506:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=a(r(1));var s=a(r(26));var n=(0,s.default)(o.default.createElement("g",null,o.default.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),"Check");t.default=n},667:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r){if(Object.prototype.hasOwnProperty.call(r,a)){e[a]=r[a]}}}return e};var o=r(1);var s=b(o);var n=r(34);var l=r(229);var i=b(l);var u=r(506);var c=b(u);var d=r(17);var f=r(10);var m=r(57);var h=r(227);var p=r(88);var v=r(202);var g=w(v);var y=r(488);function w(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function b(e){return e&&e.__esModule?e:{default:e}}const M=e=>({icon:{color:e.palette.primary.grey},image:{backgroundSize:"cover",backgroundPosition:"50% 50%",height:130,width:"100%",position:"relative","&:hover":{cursor:"pointer"}},watchlater:{position:"absolute",left:".5rem",top:".5rem",width:"1.5rem",height:"1.5rem",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",backgroundColor:"#000000",borderRadius:3},hide:{display:"none"},category:{position:"absolute",top:".5rem",right:".5rem",backgroundColor:"rgba(255,255,255,.5)",borderRadius:"5px",padding:"0 3px",fontSize:".9rem"},duration:{position:"absolute",padding:"0 4px",fontSize:".9rem",borderRadius:"3px",backgroundColor:"#000000",color:"#ffffff",bottom:2,right:3},meta:{display:"flex",flexFlow:"column nowrap",fontSize:".8rem"},mediaTitle:{whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis",color:"#000000",fontSize:".9rem",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":2,fontWeight:500,margin:"5px 0",maxHeight:"2rem",lineHeight:"1rem"},subheading:{display:"flex",flexDirection:"column",whiteSpace:"no-wrap",color:e.palette.primary.grey,overflowX:"hidden",textOverflow:"ellipsis",fontWeight:500},author:{overflowX:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"flex",color:e.palette.primary.grey,fontWeight:500,opacity:.9,marginBottom:"3px","&:hover":{opacity:1,cursor:"pointer"}},date:{marginTop:"3px"}});class E extends o.Component{constructor(...e){var t;return t=super(...e),this.state={showWatchLater:false,addedToWatchlist:false},this.handleMouseEnter=(e=>{if(!this.state.showWatchLater){this.setState({showWatchLater:true})}}),this.componentDidMount=(()=>{const{user:e,itemId:t}=this.props;let r=e&&e.watchlater&&e.watchlater.find(e=>console.log(e))}),this.handleMouseLeave=(e=>{if(this.state.showWatchLater){this.setState({showWatchLater:false})}}),this.addRemoveFromWatchList=(e=>{e.stopPropagation();this.props.addToWatchlater(this.props.itemId);if(!this.state.addedToWatchlist){this.setState({addedToWatchlist:true})}else{this.setState({addedToWatchlist:false})}}),this.goToResource=(()=>{const{dispatch:e,itemId:t,resourceName:r}=this.props;let a=`${r}/${t}`;e((0,m.push)(a))}),t}render(){const{item:e,classes:t,resourceName:r}=this.props;const{showWatchLater:a,addedToWatchlist:o}=this.state;return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:t.image,onClick:this.goToResource,onMouseLeave:this.handleMouseLeave,onMouseOver:this.handleMouseEnter,style:{backgroundImage:`url(${e.thumb_url})`}},s.default.createElement("div",{onClick:this.addRemoveFromWatchList,className:[t.watchlater,a?"":t.hide].join(" ")},o?s.default.createElement(c.default,null):s.default.createElement(i.default,null)),s.default.createElement("div",{className:t.category},e.category&&e.category.title),s.default.createElement("div",{className:t.duration},(0,y.transformSeconds)(e.duration))),s.default.createElement("h3",{className:t.mediaTitle},e.title),s.default.createElement("div",{className:t.meta},s.default.createElement("div",{className:t.author},e.postedBy.firstName+" "+e.postedBy.lastName),s.default.createElement("div",{className:t.subheading},s.default.createElement("div",null,e.views," views "),s.default.createElement("div",{className:t.date},(0,y.fromNow)(e.created)))))}}const $=e=>(0,f.bindActionCreators)(a({},g,{dispatch:e}),e);const _=(e,t)=>{let r=t.itemId;let a=t.resourceKey;return{item:(0,h.selectMediaFromResource)(e.media.medias,r,a),user:(0,p.selectUser)(e.user)}};t.default=(0,d.connect)(_,$)((0,n.withStyles)(M)(E))},668:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(1);var o=u(a);var s=r(198);var n=u(s);var l=r(667);var i=u(l);function u(e){return e&&e.__esModule?e:{default:e}}const c=e=>{const{columns:t=4,items:r,resourceName:a="media",resourceKey:s}=e;return o.default.createElement(n.default,{container:true,spacing:8},r.map(e=>o.default.createElement(n.default,{item:true,sm:2,key:e._id,style:{height:230}},o.default.createElement(i.default,{itemId:e._id,resourceKey:s,resourceName:a}))))};t.default=c}}]);
//# sourceMappingURL=15.bundle.js.map