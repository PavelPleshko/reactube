(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{216:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a){if(Object.prototype.hasOwnProperty.call(a,r)){e[r]=a[r]}}}return e};var l=a(1);var n=S(l);var s=a(486);var o=S(s);var i=a(198);var u=S(i);var d=a(34);var c=a(17);var f=a(10);var p=a(57);var m=a(117);var v=x(m);var h=a(118);var y=a(206);var g=a(594);var E=S(g);var b=a(569);var k=S(b);var _=a(568);var M=S(_);var w=a(565);var C=S(w);function x(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var a in e){if(Object.prototype.hasOwnProperty.call(e,a))t[a]=e[a]}}t.default=e;return t}}function S(e){return e&&e.__esModule?e:{default:e}}const N=e=>({root:{padding:"0 10%",position:"relative"}});class O extends l.Component{constructor(...e){var t;return t=super(...e),this.state={autoplay:false},this.loadMedia=(e=>{this.props.readMedia(e);this.props.listRelatedMedia(e)}),this.componentDidMount=(()=>{const{mediaId:e}=this.props.match.params;this.loadMedia(e)}),this.componentDidUpdate=(e=>{let{mediaId:t}=this.props.match.params;let a=t!==e.match.params.mediaId;if(a){this.loadMedia(t)}}),this.handleAutoplay=(e=>{let{autoplay:t}=this.state;let a=this.props.relatedMedia;let r=a[0];if(!t||a.length==0)return e();if(a.length>1){let e=`/media/${r._id}`;console.log(this.props);this.props.pushHistory(e)}else{this.props.listRelatedMedia(r._id)}}),this.autoPlayChangeHandler=(e=>{this.setState({autoplay:e.target.checked})}),t}render(){const{classes:e,media:t,relatedMedia:a,user:r}=this.props;const l=a.length>0?`/media/${a[0]._id}`:"";return n.default.createElement(u.default,{className:e.root,container:true,spacing:24},n.default.createElement(u.default,{item:true,sm:7,xs:12},n.default.createElement(E.default,{media:t,user:r,nextUrl:l,handleAutoplay:this.handleAutoplay}),t&&n.default.createElement(C.default,{mediaId:t._id})),n.default.createElement(u.default,{item:true,sm:5,xs:12},n.default.createElement(k.default,{data:a,title:"Up next"},n.default.createElement(M.default,{autoPlay:this.state.autoplay,autoplayChange:this.autoPlayChangeHandler}))))}}const P=e=>({media:(0,h.selectSingleMedia)(e.media.medias),relatedMedia:(0,h.selectMedias)(e.media.medias,"related"),user:(0,y.selectUser)(e.user)});const D=e=>(0,f.bindActionCreators)(r({},v,{pushHistory:p.push}),e);t.default=(0,c.connect)(P,D)((0,d.withStyles)(N)(O))},485:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a){if(Object.prototype.hasOwnProperty.call(a,r)){e[r]=a[r]}}}return e};var l=a(1);var n=c(l);var s=a(491);var o=c(s);var i=a(34);var u=a(490);var d=c(u);function c(e){return e&&e.__esModule?e:{default:e}}const f=e=>({textInput:{width:"100%"}});class p extends l.Component{render(){const{classes:e,adornment:t,label:a,input:l,type:s,helperText:i,multiline:u}=this.props;return n.default.createElement(o.default,r({label:a,type:s||"text",className:e.textInput},l,{multiline:u,margin:i?"dense":"normal",helperText:i,InputProps:{startAdornment:t&&n.default.createElement(d.default,{position:"start"},t)}}))}}p.defaultProps={helperText:"",multiline:false};t.default=(0,i.withStyles)(f)(p)},488:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});const r=e=>{let t="";let a=Math.floor(e/3600);let r=Math.floor(e%3600/60);let l=Math.floor(e%3600%60);t=a>0?a+"h ":"";t+=r>0?r+"min ":"";t+=l>0?l+"s":"";return t};const l=e=>{let t=["Bytes","KB","MB","GB","TB"];if(e==0)return"0 Byte";let a=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,a),2)+" "+t[a]};const n=e=>{const t=new Date(Number(e)*1e3);const a=t.getUTCHours();let r=t.getUTCMinutes();const l=("0"+t.getUTCSeconds()).slice(-2);if(a){r=("0"+t.getUTCMinutes()).slice(-2);return`${a}:${r}:${l}`}return`${r}:${l}`};const s=["January","February","March","April","May","June","July","August","September","October","November","December"];function o(e,t=false,a=false){const r=e.getDate();const l=s[e.getMonth()];const n=e.getFullYear();const o=e.getHours();let i=e.getMinutes();if(i<10){i=`0${i}`}if(t){return`${t} at ${o}:${i}`}if(a){return`${r} ${l} at ${o}:${i}`}return`${r} ${l} ${n}. at ${o}:${i}`}const i=e=>{if(!e){return null}const t=typeof e==="object"?e:new Date(e);const a=864e5;const r=new Date;const l=new Date(r-a);const n=Math.round((r-t)/1e3);const s=Math.round(n/60);const i=r.toDateString()===t.toDateString();const u=l.toDateString()===t.toDateString();const d=r.getFullYear()===t.getFullYear();if(n<5){return"now"}else if(n<60){return`${n} seconds ago`}else if(n<90){return"about a minute ago"}else if(s<60){return`${s} minutes ago`}else if(i){return o(t,"Today")}else if(u){return o(t,"Yesterday")}else if(d){return o(t,false,true)}return o(t)};t.transformSeconds=r;t.transformBytes=l;t.formatDuration=n;t.fromNow=i},508:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(1);var l=k(r);var n=a(197);var s=k(n);var o=a(86);var i=k(o);var u=a(497);var d=k(u);var c=a(496);var f=k(c);var p=a(495);var m=k(p);var v=a(494);var h=k(v);var y=a(493);var g=k(y);var E=a(492);var b=k(E);function k(e){return e&&e.__esModule?e:{default:e}}function _(e,t){var a={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;a[r]=e[r]}return a}const M=e=>{let{open:t,closeDialog:a,resourceTitle:r,confirmDelete:n}=e,o=_(e,["open","closeDialog","resourceTitle","confirmDelete"]);return l.default.createElement("span",null,l.default.createElement(f.default,{open:t},l.default.createElement(m.default,null,o.title?o.title:"Delete "+r),l.default.createElement(h.default,null,o.children?o.children:l.default.createElement(b.default,null,"Confirm to delete ",l.default.createElement("strong",null,r)," from your account.")),l.default.createElement(g.default,null,l.default.createElement(s.default,{onClick:a,color:"primary"},"Cancel"),l.default.createElement(s.default,{onClick:n,variant:"raised",color:"primary",autoFocus:"autoFocus"},"Confirm"))))};t.default=M},546:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a){if(Object.prototype.hasOwnProperty.call(a,r)){e[r]=a[r]}}}return e};var l=a(1);var n=E(l);var s=a(34);var o=a(197);var i=E(o);var u=a(485);var d=E(u);var c=a(215);var f=E(c);var p=a(17);var m=a(10);var v=a(88);var h=a(207);var y=g(h);function g(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var a in e){if(Object.prototype.hasOwnProperty.call(e,a))t[a]=e[a]}}t.default=e;return t}}function E(e){return e&&e.__esModule?e:{default:e}}const b=e=>({root:{display:"flex",width:"100%",alignItems:"center"},container:{width:"100%"},buttonGroup:{display:"flex",justifyContent:"flex-end"},button:{marginRight:"1rem"}});class k extends l.Component{constructor(...e){var t;return t=super(...e),this.state={content:""},this.componentWillMount=(()=>{let e=this.props.replyTo||"";if(e){e=`@${e}, `}this.setState({content:e})}),this.onChangeHandler=(e=>{this.setState({content:e.target.value})}),this.submitForm=(()=>{this.props.postNewComment({content:this.state.content,media:this.props.media,parent:this.props.parent||"",to:this.props.to},!!this.props.to);if(this.props.replyTo){this.props.close()}else{this.clear()}}),this.clear=(()=>{this.setState({content:""})}),t}render(){let{classes:e,user:t,close:a=this.clear}=this.props;return t&&n.default.createElement("div",{className:e.root},n.default.createElement(f.default,{user:t}),n.default.createElement("div",{className:e.container},n.default.createElement(d.default,{input:{value:this.state.content,onChange:this.onChangeHandler}}),n.default.createElement("div",{className:e.buttonGroup},n.default.createElement(i.default,{variant:"raised",color:"default",className:e.button,onClick:a},"Cancel"),n.default.createElement(i.default,{variant:"contained",color:"primary",disabled:this.state.content.length<10,onClick:this.submitForm},"Leave comment"))))}}const _=e=>{return{user:(0,v.selectUser)(e.user)}};const M=e=>(0,m.bindActionCreators)(r({},y),e);t.default=(0,p.connect)(_,M)((0,s.withStyles)(b)(k))},547:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(1);var l=d(r);var n=a(573);var s=d(n);var o=a(572);var i=d(o);var u=a(34);function d(e){return e&&e.__esModule?e:{default:e}}const c=e=>({root:{display:"inline-block"},evaluate:{color:"rgba(18,18,18,.4)",margin:"0 1em 0 0",display:"inline-flex",alignItems:"center"},icon:{fontSize:"1.6em","&:hover":{color:"rgba(18,18,18,.6)",cursor:"pointer",transition:".2s"}},counter:{marginLeft:".3rem"}});const f=e=>{const{classes:t,mediaId:a,likes:r=[],dislikes:n=[],liked:o,disliked:u}=e;return l.default.createElement("div",{className:t.root},l.default.createElement("span",{className:t.evaluate},l.default.createElement(s.default,{onClick:o,className:t.icon}),l.default.createElement("span",{className:t.counter},r.length)),l.default.createElement("span",{className:t.evaluate},l.default.createElement(i.default,{onClick:u,className:t.icon}),l.default.createElement("span",{className:t.counter},n.length)))};t.default=(0,u.withStyles)(c)(f)},564:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a){if(Object.prototype.hasOwnProperty.call(a,r)){e[r]=a[r]}}}return e};var l=a(1);var n=b(l);var s=a(34);var o=a(197);var i=b(o);var u=a(17);var d=a(10);var c=a(207);var f=E(c);var p=a(215);var m=b(p);var v=a(547);var h=b(v);var y=a(546);var g=b(y);function E(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var a in e){if(Object.prototype.hasOwnProperty.call(e,a))t[a]=e[a]}}t.default=e;return t}}function b(e){return e&&e.__esModule?e:{default:e}}const k=e=>({root:{display:"flex",marginBottom:".8rem",fontSize:".8rem"},meta:{display:"flex"},body:{width:"100%"},date:{color:e.palette.primary.lightGrey,marginLeft:"1rem"},content:{margin:".4rem .4rem .4rem 0"},footer:{display:"flex",alignItems:"center"},showReplies:{fontWeight:600,"&:hover":{textDecoration:"underline",cursor:"pointer"}}});class _ extends l.Component{constructor(...e){var t;return t=super(...e),this.state={replyOpened:false,showReplies:false},this.openReplyForm=(()=>{this.setState({replyOpened:true})}),this.closeReplyForm=(()=>{this.setState({replyOpened:false})}),this.showReplies=(()=>{this.setState({showReplies:true});this.props.getRepliesByComment(this.props.comment._id)}),this.hideReplies=(()=>{this.setState({showReplies:false})}),this.liked=(()=>{this.props.likeUserComment(this.props.comment._id)}),this.disliked=(()=>{this.props.dislikeUserComment(this.props.comment._id)}),t}render(){const{comment:e,classes:t,parent:a}=this.props;const r=e.repliesCount>0;return n.default.createElement("div",{className:t.root},n.default.createElement(m.default,{user:e.author}),n.default.createElement("div",{className:t.body},n.default.createElement("div",{className:t.meta},n.default.createElement("strong",null,e.author.firstName+" "+e.author.lastName),n.default.createElement("span",{className:t.date},e.created)),n.default.createElement("p",{className:t.content},e.content),n.default.createElement("div",{className:t.footer},n.default.createElement(h.default,{liked:this.liked,disliked:this.disliked,likes:e.likes,dislikes:e.dislikes}),n.default.createElement(i.default,{color:"default",size:"small",onClick:this.openReplyForm},"Reply")),this.state.replyOpened&&n.default.createElement(g.default,{to:e.author._id,replyTo:e.author.lastName,media:e.media,parent:a,close:this.closeReplyForm}),r&&(this.state.showReplies?n.default.createElement(n.default.Fragment,null,n.default.createElement("span",{className:t.showReplies,onClick:this.hideReplies},"Hide replies"),e.children.map(e=>n.default.createElement(_,{likeUserComment:this.props.likeUserComment,dislikeUserComment:this.props.dislikeUserComment,key:e._id,classes:t,comment:e,parent:a}))):n.default.createElement("span",{className:t.showReplies,onClick:this.showReplies},"Show all replies (",e.repliesCount,")"))))}}const M=e=>(0,d.bindActionCreators)(r({},f),e);t.default=(0,u.connect)(null,M)((0,s.withStyles)(k)(_))},565:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a){if(Object.prototype.hasOwnProperty.call(a,r)){e[r]=a[r]}}}return e};var l=a(1);var n=y(l);var s=a(17);var o=a(10);var i=a(88);var u=a(228);var d=a(207);var c=h(d);var f=a(546);var p=y(f);var m=a(564);var v=y(m);function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var a in e){if(Object.prototype.hasOwnProperty.call(e,a))t[a]=e[a]}}t.default=e;return t}}function y(e){return e&&e.__esModule?e:{default:e}}class g extends l.Component{constructor(...e){var t;return t=super(...e),this.componentDidMount=(()=>{this.props.getComments(this.props.mediaId)}),this.componentDidUpdate=(e=>{if(e.mediaId!=this.props.mediaId){this.props.getComments(this.props.mediaId)}}),this.getRepliesByComment=(e=>{this.props.getRepliesByComment(e)}),t}render(){const{user:e,mediaId:t,comments:a}=this.props;console.log(a);return n.default.createElement("div",null,e&&n.default.createElement(p.default,{user:e,media:t}),a.length?a.map(e=>n.default.createElement(v.default,{key:e._id,parent:e._id,getRepliesByComment:this.getRepliesByComment,comment:e})):n.default.createElement("span",null,"No comments to display"))}}const E=e=>{return{user:(0,i.selectUser)(e.user),comments:(0,u.selectAllCommentsByMedia)(e.comment)}};const b=e=>(0,o.bindActionCreators)(r({},c),e);t.default=(0,s.connect)(E,b)(g)},568:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(1);var l=u(r);var n=a(558);var s=u(n);var o=a(567);var i=u(o);function u(e){return e&&e.__esModule?e:{default:e}}const d=e=>{const{autoPlay:t,autoplayChange:a}=e;return l.default.createElement(s.default,{control:l.default.createElement(i.default,{checked:t,onChange:a,color:"primary"}),label:"AUTOPLAY"})};t.default=d},569:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(1);var l=E(r);var n=a(49);var s=a(34);var o=a(87);var i=E(o);var u=a(85);var d=E(u);var c=a(212);var f=E(c);var p=a(486);var m=E(p);var v=a(499);var h=E(v);var y=a(526);var g=E(y);function E(e){return e&&e.__esModule?e:{default:e}}const b=e=>({root:{padding:"0 2.5rem 1.5rem 2.5rem"},header:{display:"flex",justifyContent:"space-around",alignItems:"center"},title:{color:"#000000",fontSize:"1.1em"},card:{width:"100%",display:"inline-flex"},details:{display:"inline-block",maxWidth:"100%",paddingLeft:"5px",marginBottom:"7px"},content:{flex:"1 0 auto",padding:"5px"},controls:{marginTop:"3px",display:"inline-flex",flexDirection:"column"},mediaTitle:{whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis",color:"#000000",fontSize:"1rem",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":2,fontWeight:500,marginBottom:"5px",maxHeight:"2.2rem",lineHeight:"1.1rem"},subheading:{display:"flex",whiteSpace:"no-wrap",color:e.palette.primary.grey,overflowX:"hidden",textOverflow:"ellipsis",fontSize:".9rem",fontWeight:300},category:{color:e.palette.primary.light},views:{display:"inline",lineHeight:"1",paddingLeft:"4px",marginBottom:"4px",color:e.palette.primary.grey},chip:{padding:1,maxHeight:"1rem",fontSize:".7rem"},image:{backgroundSize:"cover",backgroundPosition:"50% 50%",height:"100%",width:"100%"},imageWrapper:{width:"170px",height:"120px"}});const k=e=>{const{classes:t,data:a,title:r}=e;return l.default.createElement("div",{className:t.root},l.default.createElement("div",{className:t.header},l.default.createElement(d.default,{type:"title",className:t.title},r),e.children),a.map((e,a)=>{return l.default.createElement("span",{key:a},l.default.createElement("div",{className:t.card},l.default.createElement("div",{style:{padding:"7px 7px 7px 0"}},l.default.createElement(n.Link,{to:"/media/"+e._id},l.default.createElement("div",{className:t.imageWrapper},l.default.createElement("div",{className:t.image,style:{backgroundImage:`url(${e.thumb_url})`}})))),l.default.createElement("div",{className:t.details},l.default.createElement(h.default,{className:t.content},l.default.createElement(n.Link,{to:"/media/"+e._id},l.default.createElement(d.default,{type:"title",component:"h3",className:t.mediaTitle,color:"primary"},e.title)),l.default.createElement(d.default,{type:"subheading",className:t.subheading},e.postedBy.firstName+" "+e.postedBy.lastName),l.default.createElement(d.default,{type:"subheading",className:t.category},e.category.title)),l.default.createElement("div",{className:t.controls},l.default.createElement(d.default,{type:"subheading",component:"h3",className:t.views,color:"primary"}," ",e.views," views"),l.default.createElement(g.default,{label:e.type,className:t.chip})))),l.default.createElement(f.default,null))}))};t.default=(0,s.withStyles)(b)(k)},571:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a){if(Object.prototype.hasOwnProperty.call(a,r)){e[r]=a[r]}}}return e};var l=a(1);var n=_(l);var s=a(17);var o=a(10);var i=a(117);var u=k(i);var d=a(570);var c=_(d);var f=a(497);var p=_(f);var m=a(49);var v=a(525);var h=_(v);var y=a(86);var g=_(y);var E=a(508);var b=_(E);function k(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var a in e){if(Object.prototype.hasOwnProperty.call(e,a))t[a]=e[a]}}t.default=e;return t}}function _(e){return e&&e.__esModule?e:{default:e}}class M extends l.Component{constructor(...e){var t;return t=super(...e),this.state={dialogOpen:false},this.openDialog=(()=>{this.setState({dialogOpen:true})}),this.closeDialog=(()=>{this.setState({dialogOpen:false})}),this.deleteResource=(()=>{this.props.removeMedia(this.props.mediaId)}),t}render(){const{mediaId:e,mediaTitle:t}=this.props;return n.default.createElement(h.default,null,n.default.createElement(m.Link,{to:"/media/edit/"+e},n.default.createElement(g.default,{"aria-label":"Edit",color:"primary"},n.default.createElement(c.default,null))),n.default.createElement(g.default,{onClick:this.openDialog,"aria-label":"Delete",color:"secondary"},n.default.createElement(p.default,null)),n.default.createElement(b.default,{open:this.state.dialogOpen,closeDialog:this.closeDialog,resourceTitle:t,confirmDelete:this.deleteResource}))}}const w=e=>(0,o.bindActionCreators)(r({},u),e);t.default=(0,s.connect)(null,w)(M)},576:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a){if(Object.prototype.hasOwnProperty.call(a,r)){e[r]=a[r]}}}return e};var l=a(1);var n=N(l);var s=a(34);var o=a(122);var i=N(o);var u=a(211);var d=N(u);var c=a(575);var f=N(c);var p=a(233);var m=N(p);var v=a(212);var h=N(v);var y=a(197);var g=N(y);var E=a(17);var b=a(10);var k=a(117);var _=S(k);var M=a(547);var w=N(M);var C=a(571);var x=N(C);function S(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var a in e){if(Object.prototype.hasOwnProperty.call(e,a))t[a]=e[a]}}t.default=e;return t}}function N(e){return e&&e.__esModule?e:{default:e}}const O=e=>({views:{color:"rgba(18,18,18,.6)"},title:{display:"block",maxHeight:"4.8rem",overflow:"hidden",fontSize:"1.4rem",fontWeight:400},subtitle:{display:"flex",justifyContent:"space-between"}});class P extends l.Component{constructor(...e){var t;return t=super(...e),this.likeMedia=(()=>{this.props.likeMedia(this.props.media._id)}),this.dislikeMedia=(()=>{this.props.dislikeMedia(this.props.media._id)}),t}render(){const{media:e,classes:t,user:a}=this.props;return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:t.meta},n.default.createElement("h1",{className:t.title},e.title),n.default.createElement("div",{className:t.subtitle},n.default.createElement("span",{className:t.views},e.views+" views"),n.default.createElement(w.default,{liked:this.likeMedia,disliked:this.dislikeMedia,likes:e.likes,dislikes:e.dislikes}))),n.default.createElement(h.default,null),n.default.createElement(i.default,null,n.default.createElement(f.default,null,n.default.createElement(m.default,null,e.postedBy.lastName&&e.postedBy.lastName[0])),n.default.createElement(d.default,{primary:e.postedBy.firstName+" "+e.postedBy.lastName,secondary:"Published on "+new Date(e.created).toDateString()}),a&&a._id===e.postedBy._id&&n.default.createElement(x.default,{mediaId:e._id,mediaTitle:e.title}),a&&a._id!==e.postedBy._id&&n.default.createElement(g.default,{variant:"contained",color:"secondary"},"Subscribe")),n.default.createElement(i.default,null,n.default.createElement(d.default,{primary:e.description})))}}const D=e=>(0,b.bindActionCreators)(r({},_),e);t.default=(0,E.connect)(null,D)((0,s.withStyles)(O)(P))},579:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(1);var l=d(r);var n=a(578);var s=d(n);var o=a(517);var i=d(o);var u=a(34);function d(e){return e&&e.__esModule?e:{default:e}}const c=e=>({root:{position:"absolute",width:"100%"},progressBuffer:{background:"black"},slider:{position:"absolute",minWidth:"100%",top:3,zIndex:"999",left:0,padding:0},sliderTrack:{height:"7px"},trackAfter:{background:"transparent"}});const f=e=>{const{classes:t,played:a,loaded:r,onSeekMouseDown:n,onSeekChange:o,onSeekMouseUp:u,onSeekClick:d}=e;return l.default.createElement("div",{className:t.root},l.default.createElement(s.default,{color:"primary",variant:"buffer",value:a*100,valueBuffer:r*100,style:{width:"100%",position:"absolute",height:"6px"},classes:{bar1Buffer:t.progressBuffer}}),l.default.createElement(i.default,{min:0,max:1,value:a,onDragStart:n,onChange:o,onDragEnd:u,classes:{root:t.slider,track:t.sliderTrack,trackAfter:t.trackAfter}}))};t.default=(0,u.withStyles)(c)(f)},580:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(1);var l=o(r);var n=a(34);var s=a(488);function o(e){return e&&e.__esModule?e:{default:e}}const i=e=>({root:{color:"#fff",position:"relative",margin:"auto"}});const u=e=>{const{classes:t,duration:a,played:r}=e;return l.default.createElement("span",{className:t.root},l.default.createElement("time",{dateTime:`P${Math.round(a*r)}S`},(0,s.formatDuration)(a*r))," /",l.default.createElement("time",{dateTime:`P${Math.round(a)}S`},(0,s.formatDuration)(a)))};t.default=(0,n.withStyles)(i)(u)},581:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(1);var l=v(r);var n=a(49);var s=a(518);var o=v(s);var i=a(86);var u=v(i);var d=a(34);var c=a(517);var f=v(c);var p=a(580);var m=v(p);function v(e){return e&&e.__esModule?e:{default:e}}const h=e=>({volume:{display:"flex",width:"20%",alignItems:"center"},icon:{color:"#fff",opacity:".7","&:hover":{opacity:1}},iconActive:{color:"#fff"},sliderTrackBefore:{background:"#fff",height:"3px"},sliderTrackAfter:{background:"#dedede",height:"2px"},sliderThumb:{background:"#fff"},rightControls:{display:"flex",height:"100%",lineHeight:1,margin:"auto 1.5rem auto auto"}});class y extends r.Component{render(){const{classes:e,nextUrl:t,playPause:a,toggleMuted:r,setVolume:s,onLoop:i,onClickFullscreen:d,playing:c,ended:p,volume:v,muted:h,loop:y,visible:g,played:E,duration:b}=this.props;return l.default.createElement(l.default.Fragment,null,l.default.createElement(u.default,{onClick:a},l.default.createElement(o.default,{className:e.iconActive},c?"pause":p?"replay":"play_arrow")),l.default.createElement(u.default,{color:"primary"},l.default.createElement(n.Link,{to:t},l.default.createElement(o.default,{className:e.iconActive},"skip_next"))),l.default.createElement("div",{className:e.volume},l.default.createElement(u.default,{onClick:r},l.default.createElement(o.default,{className:e.iconActive}," ",v>0&&!h&&"volume_up"||h&&"volume_off"||v==0&&"volume_mute"," ")),l.default.createElement(f.default,{min:0,max:1,value:h?0:v,onChange:s,classes:{trackBefore:e.sliderTrackBefore,trackAfter:e.sliderTrackAfter,thumb:e.sliderThumb}})),l.default.createElement(u.default,{className:y?e.iconActive:e.icon,onClick:i},l.default.createElement(o.default,null,"loop")),l.default.createElement("div",{className:e.rightControls},l.default.createElement(m.default,{played:E,duration:b}),l.default.createElement(u.default,{onClick:d},l.default.createElement(o.default,{className:e.iconActive},"fullscreen"))))}}t.default=(0,d.withStyles)(h)(y)},594:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(1);var l=_(r);var n=a(49);var s=a(593);var o=_(s);var i=a(25);var u=a(592);var d=_(u);var c=a(499);var f=_(c);var p=a(34);var m=a(590);var v=_(m);var h=a(581);var y=_(h);var g=a(579);var E=_(g);var b=a(576);var k=_(b);function _(e){return e&&e.__esModule?e:{default:e}}const M=e=>({root:{display:"inline-flex",flexDirection:"column"},playerWrapper:{width:640,height:360,overflow:"hidden",background:"#000000",position:"relative"},primaryDashed:{background:"none",backgroundColor:e.palette.secondary.main},dashed:{animation:"none"},controls:{position:"absolute",backgroundColor:"rgba(0,0,0,.6)",bottom:0,left:0,display:"flex",width:"100%",zIndex:10},videoError:{width:"100%",textAlign:"center",color:e.palette.primary.light}});class w extends r.Component{constructor(...e){var t;return t=super(...e),this.state={playing:true,volume:.8,muted:false,played:0,loaded:0,duration:0,ended:false,playbackRate:1,loop:false,fullscreen:false,videoError:false},this.componentDidMount=(()=>{console.log(this.state,this.props.media);if(o.default.enabled){o.default.on("change",()=>{let e=o.default.isFullscreen?true:false;this.setState({fullscreen:e})})}}),this.ref=(e=>{this.player=e}),this.videoError=(e=>{this.setState({videoError:true})}),this.playPause=(()=>{this.setState({playing:!this.state.playing})}),this.onLoop=(()=>{this.setState({loop:!this.state.loop})}),this.onEnded=(()=>{if(this.state.loop){this.setState({playing:true})}else{this.props.handleAutoplay(()=>{this.setState({ended:true,playing:false})})}}),this.toggleMuted=(()=>{this.setState({muted:!this.state.muted})}),this.setVolume=((e,t)=>{this.setState({volume:t})}),this.onProgress=(e=>{if(!this.state.seeking){this.setState({played:e.played,loaded:e.loaded})}}),this.onSeekMouseDown=(()=>{this.setState({seeking:true})}),this.onSeekChange=((e,t)=>{t=parseFloat(t);this.setState({played:t,ended:t>=1});this.player.seekTo(t)}),this.onSeekMouseUp=((e,t)=>{this.setState({seeking:false});this.player.seekTo(this.state.played)}),this.onDuration=(e=>{this.setState({duration:e})}),this.onClickFullscreen=(()=>{o.default.request((0,i.findDOMNode)(this.player))}),t}render(){const{media:e,classes:t,user:a,nextUrl:r}=this.props;const{playing:n,ended:s,volume:o,muted:i,loop:u,played:d,loaded:c,duration:f,playbackRate:p,fullscreen:m,videoError:h}=this.state;return e&&l.default.createElement("div",{className:t.root},l.default.createElement("div",{className:t.playerWrapper},l.default.createElement(v.default,{className:t.reactPlayer,ref:this.ref,url:e.video_url,playing:n,loop:u,playbackRate:p,volume:o,muted:i,onEnded:this.onEnded,onError:this.videoError,onProgress:this.onProgress,onDuration:this.onDuration,width:m?"100%":"inherit",height:m?"100%":"inherit"}),l.default.createElement("div",{className:t.controls},l.default.createElement(E.default,{played:d,loaded:c,onSeekMouseDown:this.onSeekMouseDown,onSeekChange:this.onSeekChange,onSeekMouseUp:this.onSeekMouseUp}),l.default.createElement(y.default,{playPause:this.playPause,toggleMuted:this.toggleMuted,setVolume:this.setVolume,onLoop:this.onLoop,onClickFullscreen:this.onClickFullscreen,volume:o,muted:i,playing:n,loop:u,played:d,duration:f,nextUrl:r})),h&&l.default.createElement("p",{className:t.videoError},"Video Error. Try again later.")),l.default.createElement(k.default,{user:a,media:e}))}}t.default=(0,p.withStyles)(M)(w)}}]);
//# sourceMappingURL=7.bundle.js.map